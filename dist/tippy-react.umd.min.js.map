{"version":3,"file":"tippy-react.umd.min.js","sources":["../src/utils.js","../src/util-hooks.js","../src/className-plugin.js","../src/Tippy.js","../src/useSingleton.js","../src/forwardRef.js","../src/index.js"],"sourcesContent":["export const isBrowser =\r\n  typeof window !== 'undefined' && typeof document !== 'undefined';\r\n\r\nexport function preserveRef(ref, node) {\r\n  if (ref) {\r\n    if (typeof ref === 'function') {\r\n      ref(node);\r\n    }\r\n    if ({}.hasOwnProperty.call(ref, 'current')) {\r\n      ref.current = node;\r\n    }\r\n  }\r\n}\r\n\r\nexport function ssrSafeCreateDiv() {\r\n  return isBrowser && document.createElement('div');\r\n}\r\n\r\nexport function toDataAttributes(attrs) {\r\n  const dataAttrs = {\r\n    'data-placement': attrs.placement,\r\n  };\r\n\r\n  if (attrs.referenceHidden) {\r\n    dataAttrs['data-reference-hidden'] = '';\r\n  }\r\n\r\n  if (attrs.escaped) {\r\n    dataAttrs['data-escaped'] = '';\r\n  }\r\n\r\n  return dataAttrs;\r\n}\r\n\r\nfunction deepEqual(x, y) {\r\n  if (x === y) {\r\n    return true;\r\n  } else if (\r\n    typeof x === 'object' &&\r\n    x != null &&\r\n    typeof y === 'object' &&\r\n    y != null\r\n  ) {\r\n    if (Object.keys(x).length !== Object.keys(y).length) {\r\n      return false;\r\n    }\r\n\r\n    for (const prop in x) {\r\n      if (y.hasOwnProperty(prop)) {\r\n        if (!deepEqual(x[prop], y[prop])) {\r\n          return false;\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function uniqueByShape(arr) {\r\n  const output = [];\r\n\r\n  arr.forEach(item => {\r\n    if (!output.find(outputItem => deepEqual(item, outputItem))) {\r\n      output.push(item);\r\n    }\r\n  });\r\n\r\n  return output;\r\n}\r\n\r\nexport function deepPreserveProps(instanceProps, componentProps) {\r\n  return {\r\n    ...componentProps,\r\n    popperOptions: {\r\n      ...instanceProps.popperOptions,\r\n      ...componentProps.popperOptions,\r\n      modifiers: uniqueByShape([\r\n        ...(instanceProps.popperOptions?.modifiers || []),\r\n        ...(componentProps.popperOptions?.modifiers || []),\r\n      ]),\r\n    },\r\n  };\r\n}\r\n","import {isBrowser} from './utils';\r\nimport {useLayoutEffect, useEffect, useRef} from 'react';\r\n\r\nexport const useIsomorphicLayoutEffect = isBrowser\r\n  ? useLayoutEffect\r\n  : useEffect;\r\n\r\nexport function useMutableBox(initialValue) {\r\n  // Using refs instead of state as it's recommended to not store imperative\r\n  // values in state due to memory problems in React(?)\r\n  const ref = useRef();\r\n\r\n  if (!ref.current) {\r\n    ref.current =\r\n      typeof initialValue === 'function' ? initialValue() : initialValue;\r\n  }\r\n\r\n  return ref.current;\r\n}\r\n","function updateClassName(box, action, classNames) {\r\n  classNames.split(/\\s+/).forEach(name => {\r\n    if (name) {\r\n      box.classList[action](name);\r\n    }\r\n  });\r\n}\r\n\r\nexport const classNamePlugin = {\r\n  name: 'className',\r\n  defaultValue: '',\r\n  fn(instance) {\r\n    const box = instance.popper.firstElementChild;\r\n    const isDefaultRenderFn = () => !!instance.props.render?.$$tippy;\r\n\r\n    function add() {\r\n      if (instance.props.className && !isDefaultRenderFn()) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          console.warn(\r\n            [\r\n              '@tippyjs/react: Cannot use `className` prop in conjunction with',\r\n              '`render` prop. Place the className on the element you are',\r\n              'rendering.',\r\n            ].join(' '),\r\n          );\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      updateClassName(box, 'add', instance.props.className);\r\n    }\r\n\r\n    function remove() {\r\n      if (isDefaultRenderFn()) {\r\n        updateClassName(box, 'remove', instance.props.className);\r\n      }\r\n    }\r\n\r\n    return {\r\n      onCreate: add,\r\n      onBeforeUpdate: remove,\r\n      onAfterUpdate: add,\r\n    };\r\n  },\r\n};\r\n","import {cloneElement, useState} from 'react';\r\nimport {createPortal} from 'react-dom';\r\nimport {\r\n  preserveRef,\r\n  ssrSafeCreateDiv,\r\n  toDataAttributes,\r\n  deepPreserveProps,\r\n} from './utils';\r\nimport {useMutableBox, useIsomorphicLayoutEffect} from './util-hooks';\r\nimport {classNamePlugin} from './className-plugin';\r\n\r\nexport default function TippyGenerator(tippy) {\r\n  function Tippy({\r\n    children,\r\n    content,\r\n    visible,\r\n    singleton,\r\n    render,\r\n    reference,\r\n    disabled = false,\r\n    ignoreAttributes = true,\r\n    // Filter React development reserved props\r\n    // added by babel-preset-react dev plugins:\r\n    // transform-react-jsx-self and transform-react-jsx-source\r\n    __source,\r\n    __self,\r\n    ...restOfNativeProps\r\n  }) {\r\n    const isControlledMode = visible !== undefined;\r\n    const isSingletonMode = singleton !== undefined;\r\n\r\n    const [mounted, setMounted] = useState(false);\r\n    const [attrs, setAttrs] = useState({});\r\n    const [singletonContent, setSingletonContent] = useState();\r\n    const mutableBox = useMutableBox(() => ({\r\n      container: ssrSafeCreateDiv(),\r\n      renders: 1,\r\n    }));\r\n\r\n    const props = {\r\n      ignoreAttributes,\r\n      ...restOfNativeProps,\r\n      content: mutableBox.container,\r\n    };\r\n\r\n    if (isControlledMode) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        ['trigger', 'hideOnClick', 'showOnCreate'].forEach(nativeStateProp => {\r\n          if (props[nativeStateProp] !== undefined) {\r\n            console.warn(\r\n              [\r\n                `@tippyjs/react: Cannot specify \\`${nativeStateProp}\\` prop in`,\r\n                `controlled mode (\\`visible\\` prop)`,\r\n              ].join(' '),\r\n            );\r\n          }\r\n        });\r\n      }\r\n\r\n      props.trigger = 'manual';\r\n      props.hideOnClick = false;\r\n    }\r\n\r\n    if (isSingletonMode) {\r\n      disabled = true;\r\n    }\r\n\r\n    let computedProps = props;\r\n    const plugins = props.plugins || [];\r\n\r\n    if (render) {\r\n      computedProps = {\r\n        ...props,\r\n        plugins:\r\n          isSingletonMode && singleton.data != null\r\n            ? [\r\n                ...plugins,\r\n                {\r\n                  fn() {\r\n                    return {\r\n                      onTrigger(instance, event) {\r\n                        const node = singleton.data.children.find(\r\n                          ({instance}) =>\r\n                            instance.reference === event.currentTarget,\r\n                        );\r\n                        instance.state.$$activeSingletonInstance =\r\n                          node.instance;\r\n                        setSingletonContent(node.content);\r\n                      },\r\n                    };\r\n                  },\r\n                },\r\n              ]\r\n            : plugins,\r\n        render: () => ({popper: mutableBox.container}),\r\n      };\r\n    }\r\n\r\n    const deps = [reference].concat(children ? [children.type] : []);\r\n\r\n    // CREATE\r\n    useIsomorphicLayoutEffect(() => {\r\n      let element = reference;\r\n      if (reference && reference.hasOwnProperty('current')) {\r\n        element = reference.current;\r\n      }\r\n\r\n      const instance = tippy(element || mutableBox.ref || ssrSafeCreateDiv(), {\r\n        ...computedProps,\r\n        plugins: [classNamePlugin, ...(props.plugins || [])],\r\n      });\r\n\r\n      mutableBox.instance = instance;\r\n\r\n      if (disabled) {\r\n        instance.disable();\r\n      }\r\n\r\n      if (visible) {\r\n        instance.show();\r\n      }\r\n\r\n      if (isSingletonMode) {\r\n        singleton.hook({\r\n          instance,\r\n          content,\r\n          props: computedProps,\r\n          setSingletonContent,\r\n        });\r\n      }\r\n\r\n      setMounted(true);\r\n\r\n      return () => {\r\n        instance.destroy();\r\n        singleton?.cleanup(instance);\r\n      };\r\n    }, deps);\r\n\r\n    // UPDATE\r\n    useIsomorphicLayoutEffect(() => {\r\n      // Prevent this effect from running on 1st render\r\n      if (mutableBox.renders === 1) {\r\n        mutableBox.renders++;\r\n        return;\r\n      }\r\n\r\n      const {instance} = mutableBox;\r\n\r\n      instance.setProps(deepPreserveProps(instance.props, computedProps));\r\n\r\n      // Fixes #264\r\n      instance.popperInstance?.forceUpdate();\r\n\r\n      if (disabled) {\r\n        instance.disable();\r\n      } else {\r\n        instance.enable();\r\n      }\r\n\r\n      if (isControlledMode) {\r\n        if (visible) {\r\n          instance.show();\r\n        } else {\r\n          instance.hide();\r\n        }\r\n      }\r\n\r\n      if (isSingletonMode) {\r\n        singleton.hook({\r\n          instance,\r\n          content,\r\n          props: computedProps,\r\n          setSingletonContent,\r\n        });\r\n      }\r\n    });\r\n\r\n    useIsomorphicLayoutEffect(() => {\r\n      if (!render) {\r\n        return;\r\n      }\r\n\r\n      const {instance} = mutableBox;\r\n\r\n      instance.setProps({\r\n        popperOptions: {\r\n          ...instance.props.popperOptions,\r\n          modifiers: [\r\n            ...(instance.props.popperOptions?.modifiers || []).filter(\r\n              ({name}) => name !== '$$tippyReact',\r\n            ),\r\n            {\r\n              name: '$$tippyReact',\r\n              enabled: true,\r\n              phase: 'beforeWrite',\r\n              requires: ['computeStyles'],\r\n              fn({state}) {\r\n                const hideData = state.modifiersData?.hide;\r\n\r\n                // WARNING: this is a high-risk path that can cause an infinite\r\n                // loop. This expression _must_ evaluate to false when required\r\n                if (\r\n                  attrs.placement !== state.placement ||\r\n                  attrs.referenceHidden !== hideData?.isReferenceHidden ||\r\n                  attrs.escaped !== hideData?.hasPopperEscaped\r\n                ) {\r\n                  setAttrs({\r\n                    placement: state.placement,\r\n                    referenceHidden: hideData?.isReferenceHidden,\r\n                    escaped: hideData?.hasPopperEscaped,\r\n                  });\r\n                }\r\n\r\n                state.attributes.popper = {};\r\n              },\r\n            },\r\n          ],\r\n        },\r\n      });\r\n    }, [attrs.placement, attrs.referenceHidden, attrs.escaped, ...deps]);\r\n\r\n    return (\r\n      <>\r\n        {children\r\n          ? cloneElement(children, {\r\n              ref(node) {\r\n                mutableBox.ref = node;\r\n                preserveRef(children.ref, node);\r\n              },\r\n            })\r\n          : null}\r\n        {mounted &&\r\n          createPortal(\r\n            render\r\n              ? render(\r\n                  toDataAttributes(attrs),\r\n                  singletonContent,\r\n                  mutableBox.instance,\r\n                )\r\n              : content,\r\n            mutableBox.container,\r\n          )}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return Tippy;\r\n}\r\n","import {useMutableBox, useIsomorphicLayoutEffect} from './util-hooks';\r\nimport {deepPreserveProps} from './utils';\r\nimport {classNamePlugin} from './className-plugin';\r\nimport {useMemo, useState} from 'react';\r\n\r\nexport default function useSingletonGenerator(createSingleton) {\r\n  return function useSingleton({disabled = false, overrides = []} = {}) {\r\n    const [mounted, setMounted] = useState(false);\r\n    const mutableBox = useMutableBox({\r\n      children: [],\r\n      renders: 1,\r\n    });\r\n\r\n    useIsomorphicLayoutEffect(() => {\r\n      if (!mounted) {\r\n        setMounted(true);\r\n        return;\r\n      }\r\n\r\n      const {children, sourceData} = mutableBox;\r\n\r\n      if (!sourceData) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          console.error(\r\n            [\r\n              '@tippyjs/react: The `source` variable from `useSingleton()` has',\r\n              'not been passed to a <Tippy /> component.',\r\n            ].join(' '),\r\n          );\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      const instance = createSingleton(\r\n        children.map(child => child.instance),\r\n        {\r\n          ...sourceData.props,\r\n          popperOptions: sourceData.instance.props.popperOptions,\r\n          overrides,\r\n          plugins: [classNamePlugin, ...(sourceData.props.plugins || [])],\r\n        },\r\n      );\r\n\r\n      mutableBox.instance = instance;\r\n\r\n      if (disabled) {\r\n        instance.disable();\r\n      }\r\n\r\n      return () => {\r\n        instance.destroy();\r\n        mutableBox.children = children.filter(\r\n          ({instance}) => !instance.state.isDestroyed,\r\n        );\r\n      };\r\n    }, [mounted]);\r\n\r\n    useIsomorphicLayoutEffect(() => {\r\n      if (!mounted) {\r\n        return;\r\n      }\r\n\r\n      if (mutableBox.renders === 1) {\r\n        mutableBox.renders++;\r\n        return;\r\n      }\r\n\r\n      const {children, instance, sourceData} = mutableBox;\r\n\r\n      if (!(instance && sourceData)) {\r\n        return;\r\n      }\r\n\r\n      const {content, ...props} = sourceData.props;\r\n\r\n      instance.setProps(\r\n        deepPreserveProps(instance.props, {\r\n          ...props,\r\n          overrides,\r\n        }),\r\n      );\r\n\r\n      instance.setInstances(children.map(child => child.instance));\r\n\r\n      if (disabled) {\r\n        instance.disable();\r\n      } else {\r\n        instance.enable();\r\n      }\r\n    });\r\n\r\n    return useMemo(() => {\r\n      const source = {\r\n        data: mutableBox,\r\n        hook(data) {\r\n          mutableBox.sourceData = data;\r\n          mutableBox.setSingletonContent = data.setSingletonContent;\r\n        },\r\n        cleanup() {\r\n          mutableBox.sourceData = null;\r\n        },\r\n      };\r\n\r\n      const target = {\r\n        hook(data) {\r\n          mutableBox.children = mutableBox.children.filter(\r\n            ({instance}) => data.instance !== instance,\r\n          );\r\n          mutableBox.children.push(data);\r\n\r\n          if (\r\n            mutableBox.instance?.state.isMounted &&\r\n            mutableBox.instance?.state.$$activeSingletonInstance ===\r\n              data.instance\r\n          ) {\r\n            mutableBox.setSingletonContent?.(data.content);\r\n          }\r\n\r\n          if (mutableBox.instance && !mutableBox.instance.state.isDestroyed) {\r\n            mutableBox.instance.setInstances(\r\n              mutableBox.children.map(child => child.instance),\r\n            );\r\n          }\r\n        },\r\n        cleanup(instance) {\r\n          mutableBox.children = mutableBox.children.filter(\r\n            data => data.instance !== instance,\r\n          );\r\n\r\n          if (mutableBox.instance && !mutableBox.instance.state.isDestroyed) {\r\n            mutableBox.instance.setInstances(\r\n              mutableBox.children.map(child => child.instance),\r\n            );\r\n          }\r\n        },\r\n      };\r\n\r\n      return [source, target];\r\n    }, []);\r\n  };\r\n}\r\n","import {cloneElement} from 'react';\r\nimport {preserveRef} from './utils';\r\n\r\nexport default (Tippy, defaultProps) =>\r\n  function TippyWrapper({children, ...props}, ref) {\r\n    return (\r\n      // If I spread them separately here, Babel adds the _extends ponyfill for\r\n      // some reason\r\n      <Tippy {...{...defaultProps, ...props}}>\r\n        {children\r\n          ? cloneElement(children, {\r\n              ref(node) {\r\n                preserveRef(ref, node);\r\n                preserveRef(children.ref, node);\r\n              },\r\n            })\r\n          : null}\r\n      </Tippy>\r\n  )};\r\n","import tippy, {createSingleton} from 'tippy.js';\r\nimport TippyGenerator from './Tippy';\r\nimport useSingletonGenerator from './useSingleton';\r\nimport forwardRef from './forwardRef';\r\n\r\nconst useSingleton = useSingletonGenerator(createSingleton);\r\n\r\nexport default forwardRef(TippyGenerator(tippy));\r\nexport {useSingleton, tippy};\r\n"],"names":["isBrowser","window","document","preserveRef","ref","node","hasOwnProperty","call","current","ssrSafeCreateDiv","createElement","uniqueByShape","arr","output","forEach","item","find","outputItem","deepEqual","x","y","Object","keys","length","prop","push","deepPreserveProps","instanceProps","componentProps","popperOptions","modifiers","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","useMutableBox","initialValue","useRef","updateClassName","box","action","classNames","split","name","classList","classNamePlugin","defaultValue","fn","instance","popper","firstElementChild","isDefaultRenderFn","props","render","_instance$props$rende","$$tippy","add","className","onCreate","onBeforeUpdate","onAfterUpdate","TippyGenerator","tippy","children","content","visible","singleton","reference","disabled","ignoreAttributes","restOfNativeProps","__source","__self","isControlledMode","undefined","isSingletonMode","useState","mounted","setMounted","attrs","setAttrs","singletonContent","setSingletonContent","mutableBox","container","renders","trigger","hideOnClick","computedProps","plugins","data","onTrigger","event","currentTarget","state","$$activeSingletonInstance","deps","concat","type","element","disable","show","hook","destroy","cleanup","setProps","popperInstance","forceUpdate","enable","hide","filter","enabled","phase","requires","hideData","modifiersData","_state$modifiersData","placement","referenceHidden","isReferenceHidden","escaped","hasPopperEscaped","attributes","React","cloneElement","createPortal","dataAttrs","toDataAttributes","useSingletonGenerator","createSingleton","overrides","sourceData","map","child","isDestroyed","setInstances","useMemo","isMounted","Tippy","defaultProps","useSingleton","forwardRef"],"mappings":"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"}